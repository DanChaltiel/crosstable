<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Easily describe datasets — crosstable • crosstable</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><script src="../extra.js"></script><meta property="og:title" content="Easily describe datasets — crosstable"><meta name="description" content="Generate a descriptive table of all chosen columns, as contingency tables for categorical variables and as calculation summaries for numeric variables. If the by argument points to one or several categorical variables, crosstable will output a description of all columns for each level. Otherwise, if it points to a numeric variable, crosstable will calculate correlation coefficients with all other selected numeric columns. Finally, if it points to a Surv object, crosstable will describe the survival at different times.

Can be formatted as an HTML table using as_flextable()."><meta property="og:description" content="Generate a descriptive table of all chosen columns, as contingency tables for categorical variables and as calculation summaries for numeric variables. If the by argument points to one or several categorical variables, crosstable will output a description of all columns for each level. Otherwise, if it points to a numeric variable, crosstable will calculate correlation coefficients with all other selected numeric columns. Finally, if it points to a Surv object, crosstable will describe the survival at different times.

Can be formatted as an HTML table using as_flextable()."><meta property="og:image" content="https://danchaltiel.github.io/crosstable/apple-touch-icon-180x180.png"><meta property="og:image:alt" content="Crosstable: easy dataset description"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@DanChaltiel"><meta name="twitter:site" content="@DanChaltiel"><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-F1ZSXB74Z9"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-F1ZSXB74Z9');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">crosstable</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.8.0.9001</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/crosstable.html">Get started</a></li>
    <li><a class="dropdown-item" href="../articles/crosstable-selection.html">Select columns</a></li>
    <li><a class="dropdown-item" href="../articles/crosstable-report.html">Automatic reporting</a></li>
    <li><a class="dropdown-item" href="../articles/percent_pattern.html">Using `percent_pattern`</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="http://twitter.com/DanChaltiel"><span class="fa fab fa-twitter fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/DanChaltiel/crosstable/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Easily describe datasets</h1>
      <small class="dont-index">Source: <a href="https://github.com/DanChaltiel/crosstable/blob/main/R/crosstable.R" class="external-link"><code>R/crosstable.R</code></a></small>
      <div class="d-none name"><code>crosstable.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Generate a descriptive table of all chosen columns, as contingency tables for categorical variables and as calculation summaries for numeric variables. If the <code>by</code> argument points to one or several categorical variables, <code>crosstable</code> will output a description of all columns for each level. Otherwise, if it points to a numeric variable, <code>crosstable</code> will calculate correlation coefficients with all other selected numeric columns. Finally, if it points to a <code>Surv</code> object, <code>crosstable</code> will describe the survival at different times.<br><br>
Can be formatted as an HTML table using <code><a href="as_flextable.html">as_flextable()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">crosstable</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  cols <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  total <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"none"</span>, <span class="st">"row"</span>, <span class="st">"column"</span>, <span class="st">"both"</span><span class="op">)</span>,</span>
<span>  percent_pattern <span class="op">=</span> <span class="st">"{n} ({p_row})"</span>,</span>
<span>  percent_digits <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  num_digits <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  showNA <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ifany"</span>, <span class="st">"always"</span>, <span class="st">"no"</span><span class="op">)</span>,</span>
<span>  label <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  funs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>` ` <span class="op">=</span> <span class="va">cross_summary</span><span class="op">)</span>,</span>
<span>  funs_arg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  cor_method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pearson"</span>, <span class="st">"kendall"</span>, <span class="st">"spearman"</span><span class="op">)</span>,</span>
<span>  drop_levels <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  remove_zero_percent <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  unique_numeric <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  date_format <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  times <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  followup <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  test <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  test_args <span class="op">=</span> <span class="fu"><a href="crosstable_test_args.html">crosstable_test_args</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  effect <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  effect_args <span class="op">=</span> <span class="fu"><a href="crosstable_effect_args.html">crosstable_effect_args</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  margin <span class="op">=</span> <span class="fu">deprecated</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  .vars <span class="op">=</span> <span class="fu">deprecated</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data.frame</p></dd>


<dt id="arg-cols">cols<a class="anchor" aria-label="anchor" href="#arg-cols"></a></dt>
<dd><p>&lt;<code><a href="https://tidyselect.r-lib.org/reference/language.html" class="external-link">tidy-select</a></code>&gt; Columns to describe, default to <code><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything()</a></code>. See examples or <code><a href="../articles/crosstable-selection.html">vignette("crosstable-selection")</a></code> for more details.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Unused. All parameters after this one must be named.</p></dd>


<dt id="arg-by">by<a class="anchor" aria-label="anchor" href="#arg-by"></a></dt>
<dd><p>The variable to group on. Character or name.</p></dd>


<dt id="arg-total">total<a class="anchor" aria-label="anchor" href="#arg-total"></a></dt>
<dd><p>one of ["none", "row", "column" or "both"] to indicate whether to add total rows and/or columns. Default to <code>none</code>.</p></dd>


<dt id="arg-percent-pattern">percent_pattern<a class="anchor" aria-label="anchor" href="#arg-percent-pattern"></a></dt>
<dd><p>Pattern used to describe proportions in categorical data. Syntax uses a <code><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue::glue()</a></code> specification, see the <strong>section</strong> below for more details. Default to <code>"{n} ({p_col})"</code> if <code>by</code> is null and <code>"{n} ({p_row})"</code> if it is not.</p></dd>


<dt id="arg-percent-digits">percent_digits<a class="anchor" aria-label="anchor" href="#arg-percent-digits"></a></dt>
<dd><p>Number of digits for percentages.</p></dd>


<dt id="arg-num-digits">num_digits<a class="anchor" aria-label="anchor" href="#arg-num-digits"></a></dt>
<dd><p>Number of digits for numeric summaries.</p></dd>


<dt id="arg-showna">showNA<a class="anchor" aria-label="anchor" href="#arg-showna"></a></dt>
<dd><p>Whether to show NA in categorical variables (one of <code>c("ifany", "always", "no")</code>, like in <code><a href="https://rdrr.io/r/base/table.html" class="external-link">table()</a></code>).</p></dd>


<dt id="arg-label">label<a class="anchor" aria-label="anchor" href="#arg-label"></a></dt>
<dd><p>Whether to show labels. See <code><a href="import_labels.html">import_labels()</a></code> or <code><a href="set_label.html">set_label()</a></code>for how to add labels to the dataset columns.</p></dd>


<dt id="arg-funs">funs<a class="anchor" aria-label="anchor" href="#arg-funs"></a></dt>
<dd><p>Functions to apply to numeric variables. Default to <code><a href="cross_summary.html">cross_summary()</a></code>.</p></dd>


<dt id="arg-funs-arg">funs_arg<a class="anchor" aria-label="anchor" href="#arg-funs-arg"></a></dt>
<dd><p>Additional parameters for <code>funs</code>, e.g. <code>digits</code> (the number of decimal places) for the default <code><a href="cross_summary.html">cross_summary()</a></code>. Ultimately, these arguments are passed to <code><a href="format_fixed.html">format_fixed()</a></code>.</p></dd>


<dt id="arg-cor-method">cor_method<a class="anchor" aria-label="anchor" href="#arg-cor-method"></a></dt>
<dd><p>One of <code>c("pearson", "kendall", "spearman")</code> to indicate which correlation coefficient is to be used.</p></dd>


<dt id="arg-drop-levels">drop_levels<a class="anchor" aria-label="anchor" href="#arg-drop-levels"></a></dt>
<dd><p>Whether to drop unused levels of factor variables. Default to <code>TRUE</code>.</p></dd>


<dt id="arg-remove-zero-percent">remove_zero_percent<a class="anchor" aria-label="anchor" href="#arg-remove-zero-percent"></a></dt>
<dd><p>Whether to remove proportions when <code>n==0</code>. Default to <code>FALSE</code>.</p></dd>


<dt id="arg-unique-numeric">unique_numeric<a class="anchor" aria-label="anchor" href="#arg-unique-numeric"></a></dt>
<dd><p>The number of non-missing different levels a variable should have to be considered as numeric.</p></dd>


<dt id="arg-date-format">date_format<a class="anchor" aria-label="anchor" href="#arg-date-format"></a></dt>
<dd><p>if <code>x</code> is a vector of Date or POSIXt, the format to apply (see <a href="https://rdrr.io/r/base/strptime.html" class="external-link">strptime</a> for formats)</p></dd>


<dt id="arg-times">times<a class="anchor" aria-label="anchor" href="#arg-times"></a></dt>
<dd><p>When using formula with <code><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">survival::Surv()</a></code> objects, which times to summarize.</p></dd>


<dt id="arg-followup">followup<a class="anchor" aria-label="anchor" href="#arg-followup"></a></dt>
<dd><p>When using formula with <code><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">survival::Surv()</a></code> objects, whether to display follow-up time.</p></dd>


<dt id="arg-test">test<a class="anchor" aria-label="anchor" href="#arg-test"></a></dt>
<dd><p>Whether to perform tests.</p></dd>


<dt id="arg-test-args">test_args<a class="anchor" aria-label="anchor" href="#arg-test-args"></a></dt>
<dd><p>See <code><a href="crosstable_test_args.html">crosstable_test_args</a></code> to override default testing behaviour.</p></dd>


<dt id="arg-effect">effect<a class="anchor" aria-label="anchor" href="#arg-effect"></a></dt>
<dd><p>Whether to compute a effect measure.</p></dd>


<dt id="arg-effect-args">effect_args<a class="anchor" aria-label="anchor" href="#arg-effect-args"></a></dt>
<dd><p>See <code><a href="crosstable_effect_args.html">crosstable_effect_args</a></code> to override default behaviour.</p></dd>


<dt id="arg-margin">margin<a class="anchor" aria-label="anchor" href="#arg-margin"></a></dt>
<dd><p>Deprecated in favor of <code>percent_pattern</code>. One of ["row", "column", "cell", "none", or "all"]. Default to <code>row</code>.</p></dd>


<dt id="arg--vars">.vars<a class="anchor" aria-label="anchor" href="#arg--vars"></a></dt>
<dd><p>Deprecated in favor of <code>cols</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>data.frame</code>/<code>tibble</code> of class <code>crosstable</code></p>
    </div>
    <div class="section level2">
    <h2 id="about-percent-pattern">About <code>percent_pattern</code><a class="anchor" aria-label="anchor" href="#about-percent-pattern"></a></h2>


<p>The <code>percent_pattern</code> argument is very powerful but can be difficult to understand at first :</p><ul><li><p>It is usually a single string that uses the glue syntax, where variables are put in curly braces (<code>{x}</code>).</p></li>
<li><p>Counts are expressed as <code>{n}</code>, <code>{n_row}</code>, <code>{n_col}</code>, and <code>{n_tot}</code>, and proportions as <code>{p_row}</code>, <code>{p_col}</code>, and <code>{p_cell}</code>, depending on the margin on which they are calculated.</p></li>
<li><p>For each variable, a version including missing values in the total is proposed as <code>{n_xxx_na}</code> or <code>{p_xxx_na}</code>.</p></li>
<li><p>For each proportion, a confidence interval is also calculated using <a href="https://en.wikipedia.org/wiki/Binomial_proportion_confidence_interval#Wilson_score_interval" class="external-link">Wilson score</a> and can be expressed as <code>{p_xxx_inf}</code> and <code>{p_xxx_sup}</code>. See examples for practical applications.</p></li>
<li><p>Alternatively, <code>percent_pattern</code> can be a list of characters with names <code>body</code>, <code>total_row</code>, <code>total_col</code>, and <code>total_all</code> to also control the pattern in other parts of the crosstable than the body.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>https://danchaltiel.github.io/crosstable/, as_flextable, import_labels</p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Dan Chaltiel</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#whole table</span></span></span>
<span class="r-in"><span><span class="fu">crosstable</span><span class="op">(</span><span class="va">iris</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 19 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .id          label        variable   value        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> Sepal.Length Sepal.Length Min / Max  4.3 / 7.9    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> Sepal.Length Sepal.Length Med [IQR]  5.8 [5.1;6.4]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> Sepal.Length Sepal.Length Mean (std) 5.8 (0.8)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> Sepal.Length Sepal.Length N (NA)     150 (0)      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> Sepal.Width  Sepal.Width  Min / Max  2.0 / 4.4    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> Sepal.Width  Sepal.Width  Med [IQR]  3.0 [2.8;3.3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> Sepal.Width  Sepal.Width  Mean (std) 3.1 (0.4)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> Sepal.Width  Sepal.Width  N (NA)     150 (0)      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> Petal.Length Petal.Length Min / Max  1.0 / 6.9    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> Petal.Length Petal.Length Med [IQR]  4.3 [1.6;5.1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">11</span> Petal.Length Petal.Length Mean (std) 3.8 (1.8)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">12</span> Petal.Length Petal.Length N (NA)     150 (0)      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">13</span> Petal.Width  Petal.Width  Min / Max  0.1 / 2.5    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">14</span> Petal.Width  Petal.Width  Med [IQR]  1.3 [0.3;1.8]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">15</span> Petal.Width  Petal.Width  Mean (std) 1.2 (0.8)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">16</span> Petal.Width  Petal.Width  N (NA)     150 (0)      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">17</span> Species      Species      setosa     50 (33.33%)  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">18</span> Species      Species      versicolor 50 (33.33%)  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">19</span> Species      Species      virginica  50 (33.33%)  </span>
<span class="r-in"><span><span class="fu">crosstable</span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 38 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .id   label variable   value              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> mpg   mpg   Min / Max  10.4 / 33.9        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> mpg   mpg   Med [IQR]  19.2 [15.4;22.8]   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> mpg   mpg   Mean (std) 20.1 (6.0)         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> mpg   mpg   N (NA)     32 (0)             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> cyl   cyl   4          11 (34.38%)        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> cyl   cyl   6          7 (21.88%)         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> cyl   cyl   8          14 (43.75%)        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> disp  disp  Min / Max  71.1 / 472.0       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> disp  disp  Med [IQR]  196.3 [120.8;326.0]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> disp  disp  Mean (std) 230.7 (123.9)      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 28 more rows</span></span>
<span class="r-in"><span><span class="fu">crosstable</span><span class="op">(</span><span class="va">mtcars2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 78 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .id   label variable           value    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> model Model AMC Javelin        1 (3.12%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> model Model Cadillac Fleetwood 1 (3.12%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> model Model Camaro Z28         1 (3.12%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> model Model Chrysler Imperial  1 (3.12%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> model Model Datsun 710         1 (3.12%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> model Model Dodge Challenger   1 (3.12%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> model Model Duster 360         1 (3.12%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> model Model Ferrari Dino       1 (3.12%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> model Model Fiat 128           1 (3.12%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> model Model Fiat X1-9          1 (3.12%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 68 more rows</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#tidyselection, custom functions</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">crosstable</span><span class="op">(</span><span class="va">mtcars2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">ends_with</a></span><span class="op">(</span><span class="st">"t"</span><span class="op">)</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"c"</span><span class="op">)</span><span class="op">)</span>, by<span class="op">=</span><span class="va">vs</span>,</span></span>
<span class="r-in"><span>           funs<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">mean</span>, <span class="va">quantile</span><span class="op">)</span>, funs_arg<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>probs<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.25</span>,<span class="fl">.75</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Direct call of 'as.data.frame.numeric()' is deprecated.  Use 'as.data.frame.vector()' or 'as.data.frame()' instead</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Direct call of 'as.data.frame.numeric()' is deprecated.  Use 'as.data.frame.vector()' or 'as.data.frame()' instead</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Direct call of 'as.data.frame.numeric()' is deprecated.  Use 'as.data.frame.vector()' or 'as.data.frame()' instead</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Direct call of 'as.data.frame.numeric()' is deprecated.  Use 'as.data.frame.vector()' or 'as.data.frame()' instead</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Direct call of 'as.data.frame.numeric()' is deprecated.  Use 'as.data.frame.vector()' or 'as.data.frame()' instead</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Direct call of 'as.data.frame.numeric()' is deprecated.  Use 'as.data.frame.vector()' or 'as.data.frame()' instead</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Direct call of 'as.data.frame.numeric()' is deprecated.  Use 'as.data.frame.vector()' or 'as.data.frame()' instead</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Direct call of 'as.data.frame.numeric()' is deprecated.  Use 'as.data.frame.vector()' or 'as.data.frame()' instead</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Direct call of 'as.data.frame.numeric()' is deprecated.  Use 'as.data.frame.vector()' or 'as.data.frame()' instead</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 12 × 5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .id   label                 variable     straight    vshaped     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> drat  Rear axle ratio       mean         3.9         3.4         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> drat  Rear axle ratio       quantile 25% 3.7         3.1         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> drat  Rear axle ratio       quantile 75% 4.1         3.7         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> wt    Weight (1000 lbs)     mean         2.6         3.7         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> wt    Weight (1000 lbs)     quantile 25% 2.0         3.2         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> wt    Weight (1000 lbs)     quantile 75% 3.2         3.8         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> cyl   Number of cylinders   4            10 (90.91%) 1 (9.09%)   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> cyl   Number of cylinders   6            4 (57.14%)  3 (42.86%)  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> cyl   Number of cylinders   8            0 (0%)      14 (100.00%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> carb  Number of carburetors mean         1.8         3.6         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">11</span> carb  Number of carburetors quantile 25% 1.0         2.2         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">12</span> carb  Number of carburetors quantile 75% 2.0         4.0         </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#margin and totals, multiple by</span></span></span>
<span class="r-in"><span><span class="fu">crosstable</span><span class="op">(</span><span class="va">mtcars2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">disp</span>, <span class="va">cyl</span><span class="op">)</span>, by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">am</span>, <span class="va">vs</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>           margin<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"row"</span>, <span class="st">"col"</span><span class="op">)</span>, total <span class="op">=</span> <span class="st">"both"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Direct call of 'as.data.frame.numeric()' is deprecated.  Use 'as.data.frame.vector()' or 'as.data.frame()' instead</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 8 × 8</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .id   label             variable am=auto &amp; vs=straigh…¹ am=manual &amp; vs=strai…²</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> disp  Displacement (cu… Min / M… 120.1 / 258.0          71.1 / 121.0          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> disp  Displacement (cu… Med [IQ… 167.6 [143.8;196.3]    79.0 [77.2;101.5]     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> disp  Displacement (cu… Mean (s… 175.1 (49.1)           89.8 (18.8)           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> disp  Displacement (cu… N (NA)   7 (0)                  7 (0)                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> cyl   Number of cylind… 4        3 (42.86% / 27.27%)    7 (100.00% / 63.64%)  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> cyl   Number of cylind… 6        4 (57.14% / 57.14%)    0 (0% / 0%)           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">7</span> cyl   Number of cylind… 8        0 (0% / 0%)            0 (0% / 0%)           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">8</span> cyl   Number of cylind… Total    7 (21.88%)             7 (21.88%)            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ abbreviated names: ¹​`am=auto &amp; vs=straight`, ²​`am=manual &amp; vs=straight`</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 3 more variables: `am=auto &amp; vs=vshaped` &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   `am=manual &amp; vs=vshaped` &lt;chr&gt;, Total &lt;chr&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#predicate selection, correlation, effect calculation</span></span></span>
<span class="r-in"><span><span class="fu">crosstable</span><span class="op">(</span><span class="va">mtcars2</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/where.html" class="external-link">where</a></span><span class="op">(</span><span class="va">is.numeric</span><span class="op">)</span>, by<span class="op">=</span><span class="va">hp</span>, effect<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 6 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .id   label                 variable `Gross horsepower`           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> mpg   Miles/(US) gallon     pearson  <span style="color: #949494;">"</span>-0.78 \n95%CI [-0.89;-0.59]<span style="color: #949494;">"</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> disp  Displacement (cu.in.) pearson  <span style="color: #949494;">"</span>0.79 \n95%CI [0.61;0.89]<span style="color: #949494;">"</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> drat  Rear axle ratio       pearson  <span style="color: #949494;">"</span>-0.45 \n95%CI [-0.69;-0.12]<span style="color: #949494;">"</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> wt    Weight (1000 lbs)     pearson  <span style="color: #949494;">"</span>0.66 \n95%CI [0.4;0.82]<span style="color: #949494;">"</span>    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> qsec  1/4 mile time         pearson  <span style="color: #949494;">"</span>-0.71 \n95%CI [-0.85;-0.48]<span style="color: #949494;">"</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> carb  Number of carburetors pearson  <span style="color: #949494;">"</span>0.75 \n95%CI [0.54;0.87]<span style="color: #949494;">"</span>   </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#lambda selection &amp; statistical tests</span></span></span>
<span class="r-in"><span><span class="fu">crosstable</span><span class="op">(</span><span class="va">mtcars2</span>, <span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">is.numeric</a></span><span class="op">(</span><span class="va">.x</span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">.x</span><span class="op">)</span><span class="op">&gt;</span><span class="fl">50</span>, by<span class="op">=</span><span class="va">vs</span>, test<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Direct call of 'as.data.frame.numeric()' is deprecated.  Use 'as.data.frame.vector()' or 'as.data.frame()' instead</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Direct call of 'as.data.frame.numeric()' is deprecated.  Use 'as.data.frame.vector()' or 'as.data.frame()' instead</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 8 × 6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .id   label                 variable   straight           vshaped        test </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> disp  Displacement (cu.in.) Min / Max  71.1 / 258.0       120.3 / 472.0  <span style="color: #949494;">"</span>p v…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> disp  Displacement (cu.in.) Med [IQR]  120.5 [83.0;162.4] 311.0 [275.8;… <span style="color: #949494;">"</span>p v…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> disp  Displacement (cu.in.) Mean (std) 132.5 (56.9)       307.1 (106.8)  <span style="color: #949494;">"</span>p v…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> disp  Displacement (cu.in.) N (NA)     14 (0)             18 (0)         <span style="color: #949494;">"</span>p v…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> hp    Gross horsepower      Min / Max  52.0 / 123.0       91.0 / 335.0   <span style="color: #949494;">"</span>p v…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> hp    Gross horsepower      Med [IQR]  96.0 [66.0;109.8]  180.0 [156.2;… <span style="color: #949494;">"</span>p v…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">7</span> hp    Gross horsepower      Mean (std) 91.4 (24.4)        189.7 (60.3)   <span style="color: #949494;">"</span>p v…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">8</span> hp    Gross horsepower      N (NA)     14 (0)             18 (0)         <span style="color: #949494;">"</span>p v…</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Dates</span></span></span>
<span class="r-in"><span><span class="va">mtcars2</span><span class="op">$</span><span class="va">my_date</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">mtcars2</span><span class="op">$</span><span class="va">hp</span> , origin<span class="op">=</span><span class="st">"2010-01-01"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="set_label.html">set_label</a></span><span class="op">(</span><span class="st">"Some nonsense date"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">crosstable</span><span class="op">(</span><span class="va">mtcars2</span>, <span class="va">my_date</span>, by<span class="op">=</span><span class="va">vs</span>, date_format<span class="op">=</span><span class="st">"%d/%m/%Y"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 4 × 5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .id     label              variable   straight                         vshaped</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> my_date Some nonsense date Min / Max  22/02/2010 - 04/05/2010          02/04/…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> my_date Some nonsense date Med [IQR]  07/04/2010 [08/03/2010;21/04/20… 30/06/…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> my_date Some nonsense date Mean (std) 02/04/2010 (24.4 days)           09/07/…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> my_date Some nonsense date N (NA)     14 (0)                           18 (0) </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Survival data (using formula syntax)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/therneau/survival" class="external-link">survival</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">crosstable</span><span class="op">(</span><span class="va">aml</span>, <span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">time</span>, <span class="va">status</span><span class="op">)</span> <span class="op">~</span> <span class="va">x</span>, times<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">15</span>,<span class="fl">30</span>,<span class="fl">150</span><span class="op">)</span>, followup<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 6 × 5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .id                label              variable        Maintained Nonmaintained</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> Surv(time, status) Surv(time, status) t=0             1.00 (0/1… 1.00 (0/12)  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> Surv(time, status) Surv(time, status) t=15            0.82 (2/8) 0.58 (5/7)   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> Surv(time, status) Surv(time, status) t=30            0.61 (2/5) 0.29 (3/4)   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> Surv(time, status) Surv(time, status) t=150           0.18 (3/1) 0 (3/0)      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> Surv(time, status) Surv(time, status) Median follow … 103 [13 ;… NA [16 ; 45] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> Surv(time, status) Surv(time, status) Median survival 31         23           </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Patterns</span></span></span>
<span class="r-in"><span><span class="fu">crosstable</span><span class="op">(</span><span class="va">mtcars2</span>, <span class="va">vs</span>, by<span class="op">=</span><span class="va">am</span>, percent_digits<span class="op">=</span><span class="fl">0</span>,</span></span>
<span class="r-in"><span>           percent_pattern<span class="op">=</span><span class="st">"{n} ({p_col} / {p_row})"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2 × 5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .id   label  variable auto           manual       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> vs    Engine straight 7 (37% / 50%)  7 (54% / 50%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> vs    Engine vshaped  12 (63% / 67%) 6 (46% / 33%)</span>
<span class="r-in"><span><span class="fu">crosstable</span><span class="op">(</span><span class="va">mtcars2</span>, <span class="va">vs</span>, by<span class="op">=</span><span class="va">am</span>, percent_digits<span class="op">=</span><span class="fl">0</span>,</span></span>
<span class="r-in"><span>           percent_pattern<span class="op">=</span><span class="st">"N={n} \np[95%CI] = {p_col} [{p_col_inf}; {p_col_sup}]"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2 × 5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .id   label  variable auto                               manual               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> vs    Engine straight <span style="color: #949494;">"</span>N=7 \np[95%CI] = 37% [19%; 59%]<span style="color: #949494;">"</span>  <span style="color: #949494;">"</span>N=7 \np[95%CI] = 54…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> vs    Engine vshaped  <span style="color: #949494;">"</span>N=12 \np[95%CI] = 63% [41%; 81%]<span style="color: #949494;">"</span> <span style="color: #949494;">"</span>N=6 \np[95%CI] = 46…</span>
<span class="r-in"><span><span class="va">str_high</span><span class="op">=</span><span class="st">"n&gt;5"</span>; <span class="va">str_lo</span><span class="op">=</span><span class="st">"n&lt;=5"</span></span></span>
<span class="r-in"><span><span class="fu">crosstable</span><span class="op">(</span><span class="va">mtcars2</span>, <span class="va">vs</span>, by<span class="op">=</span><span class="va">am</span>, percent_digits<span class="op">=</span><span class="fl">0</span>,</span></span>
<span class="r-in"><span>           percent_pattern<span class="op">=</span><span class="st">"col={p_col}, row={p_row} ({ifelse(n&lt;5, str_lo, str_high)})"</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in map(.x, .f, ..., .progress = .progress):</span> <span style="color: #00BBBB;">ℹ</span> In index: 1.</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> With name: body.</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span style="font-weight: bold;">Caused by error in `crosstable()`:</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> Could not resolve a variable used in `percent_pattern`.</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Authorized variables are `n`, `n_tot`, `n_row`, `n_col`, `p_tot`, `p_row`,</span>
<span class="r-err co"><span class="r-pr">#&gt;</span>   and `p_col`, along with `p_xxx_inf` and `p_xxx_sup` for proportions.</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Provided `percent_pattern`: `col={p_col}, row={p_row} ({ifelse(n&lt;5, str_lo,</span>
<span class="r-err co"><span class="r-pr">#&gt;</span>   str_high)})`</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">✖</span> Error: <span style="color: #0000BB;">"Failed to evaluate glue component {ifelse(n&lt;5, str_lo, str_high)}"</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dan Chaltiel.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

